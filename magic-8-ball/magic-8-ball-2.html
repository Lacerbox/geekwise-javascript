<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Magic 8-Ball</title>
    <link rel="stylesheet" href="css/magic-8-ball.css">
  </head>

<body onLoad="imageLoad()">
  <center>
    <img id="image" src="img/magic-eight-ball.png" name="animImage">
  </center>

  <form name="animForm"><h1>Ask the Magic 8-Ball a question and then click the button to start & stop it.
    <input type="button" class="button button1" value="Start" name="animButton"
    onclick="buttonCheck()">
  </form></h1>

  <script language = "JavaScript">

  anims = new Array(20);
  var frame = 0;
  var timeout_state = null;

  function imageLoad() {
    for(var i = 0; i<20; i++) {
      anims[i] = new Image();
      anims[i].src = "img/" + i + ".png";
    }
  }

  function animator() {
    document.animImage.src = anims[frame].src;
    frame = (frame + 1);
    if(frame >= 20) {
      frame = 0;
    }
    timeout_state = setTimeout("animator()", 90);
  }

  function buttonCheck() {
    if(document.animForm.animButton.value == "Start") {
      document.animForm.animButton.value = "Stop!!";
      animator();
    } else {
      document.animForm.animButton.value = "Start";
      clearTimeout(timeout_state);
      timeout_state = null;
    }
  }
  </script>

  </body>
</html>
